"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[297],{297:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r,u,a,o=t(982),s=t(861),i=t(885),c=t(757),l=t.n(c),p=t(791),d=t(731),h=t(363),f=t(168),g=t(444),m=g.ZP.form(r||(r=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 40px;\n  margin-top: 30px;\n  margin-bottom: 30px;\n  width: 100%;\n"]))),x=g.ZP.input(u||(u=(0,f.Z)(["\n  min-width: 400px;\n  min-height: 40px;\n  padding: 0 5px;\n"]))),v=g.ZP.button(a||(a=(0,f.Z)(["\n  margin-left: 20px;\n  padding: 5px 15px;\n  background-color: rgb(206, 206, 197);\n  border-radius: 3px;\n  border: rgb(206, 206, 197);\n  cursor: pointer;\n  height: 40px;\n\n  &:hover,\n  &:focus {\n    background-color: rgb(172, 171, 165);\n  }\n"]))),b=t(184),y=function(e){var n=e.onSubmit,t=e.value;return(0,b.jsx)("div",{children:(0,b.jsxs)(m,{onSubmit:n,children:[(0,b.jsx)(x,{name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",defaultValue:t}),(0,b.jsx)(v,{type:"submit",children:"Search"})]})})},Z=t(446),j=t(146),k=t(235),w=t(204),S=function(){var e,n,t=(0,p.useState)([]),r=(0,i.Z)(t,2),u=r[0],a=r[1],c=(0,d.lr)(),f=(0,i.Z)(c,2),g=f[0],m=f[1],x=null!==(e=g.get("query"))&&void 0!==e?e:"",v=(0,p.useState)(!1),S=(0,i.Z)(v,2),q=S[0],C=S[1],P=(0,p.useState)(0),_=(0,i.Z)(P,2),F=_[0],A=_[1],D=Number(null!==(n=g.get("page"))&&void 0!==n?n:1);(0,p.useEffect)((function(){function e(){return(e=(0,s.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Z.LI)(x,D);case 3:n=e.sent,D>1&&a((function(e){return[].concat((0,o.Z)(e),(0,o.Z)(n.results))})),a((0,o.Z)(n.results)),A(Math.round(n.total_results/20)),m({query:x,page:D}),0===n.results.length&&C(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}""!==x&&function(){e.apply(this,arguments)}()}),[x,D,m]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)(y,{onSubmit:function(e){e.preventDefault();var n=e.currentTarget.elements.query.value;""===n&&h.A.error("Please, enter your request"),m(""!==n?{query:n,page:D}:""),a([])},value:x}),u&&(0,b.jsx)(j.Z,{movies:u}),F>1&&(0,b.jsx)(k.Z,{total:F,handlePageClick:function(e){m({query:x,page:e.selected+1}),(0,w.C)()},page:D}),q&&(0,b.jsx)("p",{children:"Sorry, we can't find anyting for your request."})]})})}}}]);
//# sourceMappingURL=297.74ed6287.chunk.js.map